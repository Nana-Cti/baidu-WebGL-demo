/**/﻿_jsload&&_jsload('otherSearch', 'function fa(i,e){var T=document.createElement("script");T.onload=function(hR){T.parentNode.removeChild(T);e&&e(hR)};T.src=i;document.getElementsByTagName("head")[0].appendChild(T)}C.extend(cS.prototype,{getCurrentPosition:function(hU,hX){var hV=this;var T=false;hX=hX||{};hV.config={timeout:hX.timeout||hV.config.timeout,maximumAge:hX.maximumAge||hV.config.maximumAge,enableHighAccuracy:hX.enableHighAccuracy||hV.config.enableHighAccuracy,SDKLocation:hX.SDKLocation||hV.config.SDKLocation};var e=setTimeout(function(){if(T){return}hV.statusCode=BMAP_STATUS_TIMEOUT;i(null)},hV.config.timeout+2000);var hS=function(hY){if(T){return}if(e){clearTimeout(e);e=null}hV.geolocationInfo=hY;if(BMapGL===null){return}hU.apply(hV,arguments);T=true};var i=function(hY){if(T){return}if(e){clearTimeout(e);e=null}hV.geolocationInfo=hY;hU.apply(hV,arguments);T=true};function hW(hY){if(bx.checkUsability()){var hZ=new bx({timeout:hV.config.timeout,maximumAge:hV.config.maximumAge,enableHighAccuracy:hV.config.enableHighAccuracy});hZ.getCurrentPosition(function(h0){hS(h0)},function(h0){switch(h0.errorCode){case h0.ERR_PERMISSION_DENIED:case h0.ERR_INSECURE_ORIGINS:hV.statusCode=BMAP_STATUS_PERMISSION_DENIED;i(null);break;case h0.ERR_POSITION_UNAVAILABLE:hV.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;hY();break;case h0.ERR_TIMEOUT:hV.statusCode=BMAP_STATUS_TIMEOUT;hY();break}});return}}function hT(hY){if(aJ.checkUsability()){var hZ=new aJ({});hZ.getCurrentPosition(function(h0){hS(h0)},function(h0){hY()});return}hY()}function hR(hY){var hZ=new gm({SDKLocation:hV.config.SDKLocation});hZ.getCurrentPosition(function(h0){hS(h0)},function(){hY()})}hR(function(){hW(function(){hT(function(){hV.statusCode=BMAP_STATUS_UNKNOWN_LOCATION;i(null)})})})},getStatus:function(){if(this.geolocationInfo){this.statusCode=BMAP_STATUS_SUCCESS}return this.statusCode}});cS.prototype.getCurrentPosition=cS.prototype.getCurrentPosition;cS.prototype.getStatus=cS.prototype.getStatus;function bx(e){this.config={timeout:e.timeout||1000*5,maximumAge:e.maximumAge||0,enableHighAccuracy:e.enableHighAccuracy||false}}bx.checkUsability=function(){if(navigator.geolocation){return true}return false};C.extend(bx.prototype,{getCurrentPosition:function(e,i){var hR=function(hT){if(/BIDUBrowser/i.test(navigator.userAgent)){var hW=new V();hW.getLocation(new hs(hT.coords["longitude"],hT.coords["latitude"]),function(hX){var hY=new aq();hY.accuracy=hT.coords["accuracy"]>1999?1999:hT.coords["accuracy"];hY.longitude=hT.coords["longitude"];hY.latitude=hT.coords["latitude"];hY.point=new hs(hY.longitude,hY.latitude);if(hX.addressComponents){if(hX.addressComponents["province"]){hY.address.province=hX.addressComponents["province"]}if(hX.addressComponents["city"]){hY.address.city=hX.addressComponents["city"]}if(hX.addressComponents["district"]){hY.address.district=hX.addressComponents["district"]}if(hX.addressComponents["street"]){hY.address.street=hX.addressComponents["street"]}if(hX.addressComponents["streetNumber"]){hY.address.street_number=hX.addressComponents["streetNumber"]}}e(hY)});return}var hV=Math.floor(Math.random()*100000);var hU="_cbk"+hV;window.baidu=window.baidu||{};window.baidu[hU]=function(hY){var hX={x:hY.x,y:hY.y};var h1=new hs(hX.x,hX.y);var h0=new aq();h0.accuracy=hT.coords["accuracy"]>1999?1999:hT.coords["accuracy"];h0.longitude=h1.lng;h0.latitude=h1.lat;h0.point=new hs(h1.lng,h1.lat);var hZ=new V();hZ.getLocation(h1,function(h2){var h3=h2.addressComponents;if(h3){if(h3.province){h0.address.province=h3.province}if(h3.city){h0.address.city=h3.city}if(h3.district){h0.address.district=h3.district}if(h3.street){h0.address.street=h3.street}if(h3.streetNumber){h0.address.street_number=h3.streetNumber}}e(h0)})};var hS=["qt=coordtrans","x="+hT.coords["longitude"],"y="+hT.coords["latitude"],"from=0","to=4","callback=baidu."+hU];fa(e3.apiHost+"/?"+hS.join("&"))};var T=function(hS){var hT=new m();if(hS.code===hS.PERMISSION_DENIED&&hS.message.indexOf("secure")===-1){hT.errorCode=hT.ERR_PERMISSION_DENIED;hT.errorMessage="用户拒绝定位请求"}if(hS.code===hS.POSITION_UNAVAILABLE){hT.errorCode=hT.ERR_POSITION_UNAVAILABLE;hT.errorMessage="定位不可用"}if(hS.message.indexOf("secure")>-1){hT.errorCode=hT.ERR_INSECURE_ORIGINS;hT.errorMessage="定位请求需要https环境"}if(hS.code===hS.TIMEOUT){hT.errorCode=hT.ERR_TIMEOUT;hT.errorMessage="定位超时"}i(hT)};navigator.geolocation.getCurrentPosition(hR,T,{enableHighAccuracy:this.config.enableHighAccuracy,timeout:this.config.timeout,maximumAge:this.config.maximumAge})}});function aJ(e){this.config={extensions:1,coord:"bd09ll",coding:"utf-8",callback_type:"jsonp"}}aJ.checkUsability=function(){return true};C.extend(aJ.prototype,{getCurrentPosition:function(T,hS){var hT=Math.floor(Math.random()*100000);var hR="_cbk"+hT;window[hR]=function(hU){if(hU.result){if(hU.result["error"]===161){if(hU.content&&hU.content["location"]){var hV=new aq();hV.accuracy=hU.content["radius"];hV.longitude=hU.content["location"]["lng"];hV.latitude=hU.content["location"]["lat"];hV.point=new hs(hU.content["location"]["lng"],hU.content["location"]["lat"])}if(hU.content&&hU.content["address_component"]){if(hU.content["address_component"]["country"]){hV.address.country=hU.content["address_component"]["country"]}if(hU.content["address_component"]["province"]){hV.address.province=hU.content["address_component"]["province"]}if(hU.content["address_component"]["city"]){hV.address.city=hU.content["address_component"]["city"]}if(hU.content["address_component"]["district"]){hV.address.district=hU.content["address_component"]["district"]}if(hU.content["address_component"]["street"]){hV.address.street=hU.content["address_component"]["street"]}if(hU.content["address_component"]["street_number"]){hV.address.street_number=hU.content["address_component"]["street_number"]}}T(hV);return}else{if(hU.result["error"]===0){if(hU.content&&hU.content["location"]){var hV=new aq();hV.longitude=hU.content["location"]["lng"];hV.latitude=hU.content["location"]["lat"];hV.point=new hs(hU.content["location"]["lng"],hU.content["location"]["lat"])}if(hU.content&&hU.content["address_component"]){if(hU.content["address_component"]["country"]){hV.address.country=hU.content["address_component"]["country"]}if(hU.content["address_component"]["province"]){hV.address.province=hU.content["address_component"]["province"]}if(hU.content["address_component"]["city"]){hV.address.city=hU.content["address_component"]["city"]}if(hU.content["address_component"]["district"]){hV.address.district=hU.content["address_component"]["district"]}if(hU.content["address_component"]["street"]){hV.address.street=hU.content["address_component"]["street"]}if(hU.content["address_component"]["street_number"]){hV.address.street_number=hU.content["address_component"]["street_number"]}}T(hV);return}}}var hW=new m();hW.errorCode=hW.ERR_POSITION_UNAVAILABLE;hW.errorMessage="请求IP地理定位信息失败";hS(hW)};var i="pc";if(f5()){i="mb"}var e={qterm:i,coding:this.config.coding,coord:this.config.coord,extensions:this.config.extensions,callback_type:this.config.callback_type,ak:ge,qt:aP,v:"3.0"};cB.request(function(hV,hU){window[hR](hV)},e)}});function gm(e){this.config={SDKLocation:e.SDKLocation||false}}C.extend(gm.prototype,{getCurrentPosition:function(i,hR){var hS=Math.floor(Math.random()*100000);var T="_cbk"+hS;window.baidu=window.baidu||{};window.baidu[T]=function(hU){hU=JSON.parse(hU);if(hU&&hU.errorcode===1){hS=Math.floor(Math.random()*100000);T="_cbk"+hS;window.baidu=window.baidu||{};window.baidu[T]=function(hW){var hV={x:hW.x,y:hW.y};var hZ=new hs(hV.x,hV.y);var hY=new aq();hY.longitude=hZ.lng;hY.latitude=hZ.lat;hY.point=new hs(hZ.lng,hZ.lat);var hX=new V();hX.getLocation(hZ,function(h0){var h1=h0.addressComponents;if(h1){if(h1.province){hY.address.province=h1.province}if(h1.city){hY.address.city=h1.city}if(h1.district){hY.address.district=h1.district}if(h1.street){hY.address.street=h1.street}if(h1.streetNumber){hY.address.street_number=h1.streetNumber}}i(hY)})};var hT=["qt=coordtrans","x="+hU.longitude,"y="+hU.latitude,"from=0","to=4","callback=baidu."+T];fa(e3.apiHost+"/?"+hT.join("&"))}else{hR()}};if(this.config.SDKLocation&&window.BaiduLocAssistant&&window.BaiduLocAssistant.sendMessage){var e={action:"requestLoc",callback:"baidu."+T};window.BaiduLocAssistant.sendMessage(JSON.stringify(e))}else{hR()}}});function aq(){this.accuracy=null;this.altitude=null;this.altitudeAccuracy=null;this.heading=null;this.latitude=null;this.longitude=null;this.speed=null;this.timestamp=null;this.point=null;this.address={country:"",city:"",city_code:0,district:"",province:"",street:"",street_number:""}}function m(e){this.errorType="geolocation";this.errorMessage=e;this.errorCode=1;this.ERR_PERMISSION_DENIED=1;this.ERR_POSITION_UNAVAILABLE=2;this.ERR_TIMEOUT=3;this.ERR_INSECURE_ORIGINS}C.extend(V.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hR=this._queryList[T];this[hR.method].apply(this,hR.arguments)}delete this._queryList},getPoint:function(e,hS,hR){var T=this;hR=hR||"北京市";var i=/^[ \\s]*$/;if(i.test(e)){return}cB.request(function(h3){if(h3&&h3.result&&h3.result["type"]==cF){var h5=h3.result;var hY=h3.content;var h2=null;var h4=null;if(h5){if(h5.error==0&&hY){var h0=hY.coord["x"];var hZ=hY.coord["y"];var hU=hY.cn;var hV=hY.sc;var h1=hY.wd;var hW=hY.prc;var hX=hY.fuzzy_score;var hT=hY.catalog;h2=new hs(h0,hZ);h2=en.convertMC2LL(h2);h4={city:hU,citycode:hV,address:h1,precise:hW,confidence:hX,level:hT}}}hS&&hS(h2,h4)}},{qt:hE,wd:e,cn:hR})},getLocation:function(i,hV,hS){if(!(i instanceof hs||i instanceof c4)&&hV){hV(null);return}var hR=this;var i=en.convertLL2MC(i);var e=i.lng;var hU=i.lat;var hS=hS||{};var T=hS.poiRadius||100;var hT=hS.numPois||10;cB.request(function(ic){var hZ=null;if(ic&&ic.result&&ic.result["type"]==gh){var h2=ic.result;var h9=ic.content;var h1;var h3={};var h4=[];var h6;if(h2.error==0&&h9){var id=h9.address_detail;var ia=id.city;if(id){h3.streetNumber=id.street_number;h3.street=id.street;h3.district=id.district;h3.city=ia;h3.province=id.province}h6=h9.point;var h8=new hs(h6.x,h6.y);h8=en.convertMC2LL(h8);var hY=h9.surround_poi;if(hY&&hY.length){for(var ib=0,h7=hY.length;ib<h7;ib++){var hX={},h0=hY[ib];hX.title=h0.name;hX.uid=h0.uid;var h5=new hs(h0.point["x"],h0.point["y"]);h5=en.convertMC2LL(h5);hX.point=h5;hX.city=ia;hX._poiType=h0.poiType;hX.type=BMAP_POI_TYPE_NORMAL;hX.address=h0.addr;hX.postcode=h0.zip||null;hX.phoneNumber=h0.tel||null;var hW=hX._poiType;if(hW.length!==0){hX.tags=hW.split(",")}h4.push(hX)}}hZ={point:h8,address:h9.address,addressComponents:h3,surroundingPois:h4,business:h9.business}}}hV&&hV(hZ)},{qt:fL,x:e,y:hU,dis_poi:T,poi_num:hT,latest_admin:"1"})}});C.extend(gz.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hR=this._queryList[T];this[hR.method].apply(this,hR.arguments)}delete this._queryList},get:function(hR,e){var hT={};hT.boundaries=[];if(hR==="中国"||hR==="全国"||hR==="中华人民共和国"){e&&e(hT);return}var hU=this;var T=["119.590757,23.808251;119.268804,23.41408;119.422881,23.163397;119.758632,23.201668;119.726437,23.588002;119.70804,23.763808;119.645949,23.797671","121.642055,25.312114;121.752439,25.169879;121.945611,25.186621;121.991604,25.052618;122.055995,24.985561;121.872022,24.834547;121.88122,24.624496;121.899617,24.498294;121.798432,24.270807;121.697247,24.135805;121.642055,23.958396;121.504076,23.288798;121.439685,23.178281;121.310904,22.991042;121.255712,22.812068;121.053342,22.624316;120.933759,22.290847;121.016547,21.990891;120.86017,21.887901;120.648601,21.947988;120.584211,22.376429;120.289854,22.51325;120.11508,22.939931;120.013895,23.118734;119.9771,23.543483;120.372642,24.11892;120.694595,24.641313;121.126931,25.119638;121.559268,25.337197;121.623658,25.345557","120.38414,22.372151;120.423234,22.355038;120.372642,22.307967;120.347346,22.329365;120.351945,22.355038;120.356544,22.363595","121.506375,22.696888;121.552369,22.660607;121.517874,22.611506;121.469581,22.64353;121.464981,22.690486;121.492577,22.701155","121.589163,22.100236;121.600661,22.050934;121.623658,22.012338;121.637456,21.939406;121.596062,21.93726;121.550069,22.014483;121.499476,22.044502;121.501776,22.102379;121.54087,22.102379","122.08819,25.668005;122.110037,25.488627;121.911116,25.435387;122.027249,25.658625;122.057144,25.669047","123.686455,25.955273;123.730149,25.909524;123.58527,25.699264;123.454189,25.743012;123.557674,25.817972;123.594468,25.84711","124.589072,25.924082;124.60172,25.894964;124.564926,25.902244;124.567226,25.929282;124.571825,25.930321","115.973388,21.36321;116.152762,21.298566;116.152762,21.164878;116.148163,21.039704;116.056176,21.000836;115.863004,21.035386;115.835409,21.143304;115.830809,21.26839;115.844607,21.358902;115.922796,21.36321","118.474702,24.527161;118.4862,24.509276;118.491949,24.487706;118.498848,24.46771;118.501148,24.448764;118.501148,24.435079;118.492524,24.422972;118.481026,24.411916;118.467228,24.406125;118.443082,24.39928;118.41721,24.386643;118.378116,24.379797;118.314301,24.369264;118.28728,24.371898;118.247035,24.378217;118.230363,24.377164;118.202192,24.376111;118.182645,24.375584;118.167122,24.375584;118.159073,24.378744;118.156199,24.389802;118.160223,24.397174;118.167697,24.407178;118.17862,24.424024;118.194718,24.434026;118.210241,24.444027;118.232088,24.457185;118.254509,24.472972;118.275206,24.488232;118.289579,24.497702;118.316025,24.506646;118.35052,24.521375;118.368918,24.529791;118.386165,24.537154;118.405137,24.540836;118.425834,24.543465;118.449981,24.541888;118.460904,24.53768"];if(hR==="台湾省"||hR==="台湾"){for(var hS=0;hS<6;hS++){hT.boundaries[hS]=T[hS]}hT.boundaries[6]=T[9];e&&e(hT)}if(hR==="钓鱼岛"){for(var hS=0;hS<1;hS++){hT.boundaries[hS]=T[6]}e&&e(hT)}if(hR==="赤尾屿"){for(var hS=0;hS<1;hS++){hT.boundaries[hS]=T[7]}e&&e(hT)}cB.request(function(i){if(i&&i.content&&i.content.uid){var hV=i.content.uid;cB.request(function(ib){if(ib&&ib.content&&ib.content["geo"]){var h0=O.parseGeo(ib.content["geo"],false);if(h0.geo&&h0.geo.length&&h0.geo.length>0){var ih=h0.geo.length;for(ij=0;ij<ih;ij++){var hZ=h0.geo[ij];if(hZ&&hZ.length&&hZ.length>0){var h8=hZ.length-1;var ig=[];var h7=false;var ie=0;var id=0;for(var ii=0;ii<h8;ii+=2){var h5=hZ[ii];var h2=hZ[ii+1];var ic=new hs(h5,h2);ic=en.convertMC2LL(ic);if(ii<h8-3){var hX=hZ[ii+2];var hW=hZ[ii+3];var ia=new hs(hX,hW);ia=en.convertMC2LL(ia)}var h9=function(io,im){if(io.lng>109&&io.lng<113&&io.lat>15&&io.lat<19){if((io.lng-im.lng)>1&&(io.lat-im.lat<-1)){h7=true;ie=ii/2}if((io.lng-im.lng)<-1&&(io.lat-im.lat>1)){h7=true;id=ii/2}}};if(hR.indexOf("全国")>-1||hR.indexOf("中国")>-1||hR.indexOf("中华人民共和国")>-1){var h4=function(im){return((im.lng>=117.546263&&im.lng<=118.711042)&&(im.lat>=38.697981&&im.lat<=38.91302))};var hY=function(im){return((im.lng>=113.576516&&im.lng<=113.638822)&&(im.lat>=22.146067&&im.lat<=22.156645))};if(h4(ic)||hY(ic)){ig.length=0;break}h9(ic,ia)}if(hR.indexOf("海南")>-1){h9(ic,ia)}ig.push(ic.lng+", "+ic.lat)}if(h7===true){if(ie>id){var ik=ie;ie=id;id=ik}var h6=ig;var h3=ig.splice(ie+1);var h1=h3.splice(id-ie);h6=h6.concat(h1);hT.boundaries.push(h6.join(";"));hT.boundaries.push(h3.join(";"));h7=false;continue}if(ig.length!==0){hT.boundaries.push(ig.join(";"))}}}}}var il=hT.boundaries.length;if((hR==="中国"||hR==="全国"||hR==="中华人民共和国")&&hT.boundaries.length>0){for(var ij=0;ij<T.length-1;ij++){hT.boundaries[il+ij]=T[ij]}}e&&e(hT)},{qt:H,num:1000,l:10,uid:hV})}else{e&&e(hT)}},{qt:em,wd:hR})},_parseGeoSpecial:function(hU){var hX=this;var hR=[];if(typeof(hU)!="string"){return hR}var T=hU.split("|");var h1=T[2];var hT=h1.split(";");for(var hV=0;hV<hT.length-1;hV++){var h0=hT[hV];var hW=[];var e=h0.split(",");for(var hS=0;hS<e.length;hS+=2){var hZ=e[hS];var hY=e[hS+1];var h2=new hs(hZ,hY);h2=en.convertMC2LL(h2);hW.push(h2.lng+", "+h2.lat)}hR.push(hW.join(";"))}return hR}});C.extend(W.prototype,{_asyncSearch:function(){for(var T=0,e=this._queryList.length;T<e;T++){var hR=this._queryList[T];this[hR.method].apply(this,hR.arguments)}delete this._queryList},get:function(i){var e=this;cB.request(function(hT){if(hT&&hT.result&&hT.result["type"]==gp){var hR=hT.result,hV=hT.content;if(hR){if(hR.error==0){var hW=e._opts.renderOptions.map;var hX=hV.level;var hS=hV.cname;var hU=hV.code;var T=O.parseGeo(hV.geo,true).point;hX=O.getBestLevel(hX,hW);if(hW){hW.centerAndZoom(T,hX)}}}i&&i({center:T,level:hX,name:hS,code:hU})}},{qt:ex})}});');
